"use strict";

function testWebP(e) {
  let t = new Image();
  t.onload = t.onerror = function () {
    e(2 == t.height);
  }, t.src = "data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";
}

testWebP(function (e) {
  1 == e ? (document.querySelector("body").classList.add("webp"), console.log("use webp")) : (document.querySelector("body").classList.add("no-webp"), console.log("not use webp"));
}), document.addEventListener("DOMContentLoaded", () => {
  const e = {
    list: []
  },
        t = document.querySelector(".add"),
        o = t.querySelector(".adding__input"),
        n = document.querySelector(".filmsListContainer").querySelector(".filmsList").querySelector(".filmsUlList");
  t.addEventListener("submit", i => {
    i.preventDefault();
    let l = o.value;

    if (l) {
      l.length > 12 && (l = l.substring(0, 12) + "..."), e.list.push(l), e.list.sort(), s(e.list, n), console.log(e.list), t.querySelector("[type='checkbox']:checked") && console.log("Добавляем любимый фильм");
    }

    i.target.reset();
  });

  const s = (e, t) => {
    t.innerHTML = "", e.forEach((e, o) => {
      t.innerHTML += `\n            <li class="promo__interactive-item">\n               ${o + 1}. ${e}\n               <div class="redHeart"></div>\n            </li>`;
    });
  };
});